---

share: 'true'
date modified: 2025年-12月-01日 19:19
created: 2025年-11月-21日 14:59
---

```Java
import javax.swing.*;
import java.awt.*;

public class SwingTextAreaDemo {
    public static void main(String[] args) {
        JFrame frame = new JFrame("Swing 多行文本框");
        frame.setSize(400, 300);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // 1. 创建文本区域 (建议指定行数和列数)
        JTextArea textArea = new JTextArea(10, 30);

        // 2. 重要设置：自动换行
        textArea.setLineWrap(true);        // 激活自动换行
        textArea.setWrapStyleWord(true);   // 在单词边界换行 (不切断单词)

        // 3. 关键步骤：放入滚动面板
        // 只有把 textArea 放入 JScrollPane，才能在内容变多时出现滚动条
        JScrollPane scrollPane = new JScrollPane(textArea);

        // 4. 设置滚动条策略 (可选，默认是需要时显示)
        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);

        // 5. 添加到窗口 (注意：添加的是 scrollPane，不是 textArea)
        frame.add(scrollPane, BorderLayout.CENTER);

        frame.setVisible(true);
    }
}
```

## 多行文本框的方法

| **功能**     | **Swing (textArea)**             |
| ------------ | -------------------------------- |
| **获取文字** | `String s = textArea.getText();` |
| **设置文字** | `textArea.setText("新内容");`    |
| **追加文字** | `textArea.append("更多内容\n");` |
| **清空内容** | `textArea.setText("");`          |
| **设为只读** | `textArea.setEditable(false);`   |

## 输入文字

```Java
import javax.swing.*;
import java.awt.*;

public class SwingInputDemo {
    public static void main(String[] args) {
        JFrame frame = new JFrame("Swing 输入示例");
        frame.setSize(400, 300);
        frame.setLayout(new BorderLayout());

        // 文本框
        JTextArea textArea = new JTextArea();
        frame.add(new JScrollPane(textArea), BorderLayout.CENTER);

        // 底部面板放按钮
        JPanel botPanel = new JPanel();

        JButton btnSet = new JButton("覆盖 (Set)");
        JButton btnAppend = new JButton("追加 (Append)");

        // --- 1. 覆盖模式：清空旧的，显示新的 ---
        btnSet.addActionListener(e -> {
            textArea.setText("这是全新的内容。\n旧的内容都没了。");
        });

        // --- 2. 追加模式：在屁股后面加内容 ---
        btnAppend.addActionListener(e -> {
            // 注意：\n 是换行符，很重要！
            textArea.append("这是一条新日志 " + System.currentTimeMillis() + "\n");

            // 技巧：追加后自动滚动到底部
            textArea.setCaretPosition(textArea.getDocument().getLength());
        });

        botPanel.add(btnSet);
        botPanel.add(btnAppend);
        frame.add(botPanel, BorderLayout.SOUTH);

        frame.setVisible(true);
    }
}
```
