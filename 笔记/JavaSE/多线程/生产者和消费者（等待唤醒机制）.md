---
share: "true"
created: 星期六, 十一月 29日 2025, 4:35:08 下午
date modified: 星期六, 十一月 29日 2025, 6:36:56 晚上
---

![](../../img/Pasted%20image%2020251129163630.png)
![](../../img/Pasted%20image%2020251129163725.png)

# 消费者等待

![](../../img/Pasted%20image%2020251129163844.png)

# 生产者等待

![](../../img/Pasted%20image%2020251129163959.png)

# 等待唤醒机制

![](../../img/Pasted%20image%2020251129164030.png)

# 常见方法

![](../../img/Pasted%20image%2020251129164109.png)

```Java
public class MyTread10 {
    static int flag = 0;
    static Object lock = new Object();
    static int count = 10;
}

public class MyTread11 extends Thread {
    @Override
    public void run() {
        while (true) {
            synchronized (MyTread10.lock) {
                if (MyTread10.count == 0) {
                    break;
                } else {
                    if (MyTread10.flag == 0) {
                        try {
                            MyTread10.lock.wait();
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    } else {
                        MyTread10.count--;
                        System.out.println("吃货正在吃饭，还能吃" + MyTread10.count + "碗");
                        MyTread10.flag = 0;
                        MyTread10.lock.notifyAll();
                    }
                }
            }
        }
    }
}

public class MyThread13 extends Thread {
    @Override
    public void run() {
        while (true) {
            synchronized (MyTread10.lock) {
                if (MyTread10.count == 0) {
                    break;
                } else {
                    if (MyTread10.flag == 1) {
                        try {
                            MyTread10.lock.wait();
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    } else {
                        MyTread10.flag = 1;
                        System.out.println("厨师做了一碗饭");
                        MyTread10.lock.notifyAll();
                    }
                }
            }
        }
    }
}

//测试类
public class MultiDemo12 {
    public static void main(String[] args) {
        MyTread11 t1 = new MyTread11();
        MyThread13 t2 = new MyThread13();

        t1.start();
        t2.start();

    }
}
```
