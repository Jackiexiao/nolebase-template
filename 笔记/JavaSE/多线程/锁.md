---

share: 'true'
date modified: 2025年-12月-01日 19:19
created: 2025年-11月-29日 16:10
---

![](../../img/Pasted%20image%2020251129161100.png)

```Java
public class MultiDemo11 {
    public static void main(String[] args) {
        MyThread09 t1 = new MyThread09("窗口1");
        MyThread09 t2 = new MyThread09("窗口2");
        MyThread09 t3 = new MyThread09("窗口3");
        t1.start();
        t2.start();
        t3.start();
    }
}

public class MyThread09 extends Thread{
    static int ticket = 0;

    public MyThread09(String name) {
        super(name);
    }

    static Lock lock = new ReentrantLock();

    @Override
    public void run() {
        while (true){
            try {
                lock.lock();
                if (ticket == 100){
                    break;
                }
                System.out.println(Thread.currentThread().getName() + " 卖票：" + (ticket++ + 1));
            } catch (Exception e) {
                throw new RuntimeException(e);
            }finally {
                lock.unlock();
            }
        }
    }
}
```
