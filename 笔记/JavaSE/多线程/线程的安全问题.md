---

share: 'true'
date modified: 2025年-12月-01日 19:19
created: 2025年-11月-29日 15:14
---

线程执行时，有随机性

# 同步代码块

![](../../img/Pasted%20image%2020251129152056.png)

```Java
public class MultiDemo09 {
    public static void main(String[] args) {
        MyThread07 t1 = new MyThread07();
        MyThread07 t2 = new MyThread07();
        MyThread07 t3 = new MyThread07();

        t1.setName("窗口1");
        t2.setName("窗口2");
        t3.setName("窗口3");

        t1.start();
        t2.start();
        t3.start();
    }
}

public class MyThread07 extends Thread{
    //表示所有的对象，都共享ticket这个变量
    static int ticket = 0;
    @Override
    public void run() {
        while (true){
            //锁对象一定要是唯一的
            synchronized (MyThread07.class){
                if (ticket < 100){
                    System.out.println(Thread.currentThread().getName() +
                            " 卖出了第" + (ticket + 1) + "张票");
                    ticket++;
                } else {
                    break;
                }

                try {
                    Thread.sleep(100);
                } catch (InterruptedException e) {
                    throw new RuntimeException(e);
                }

            }
        }
    }
}
```
