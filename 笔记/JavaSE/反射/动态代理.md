---
share: "true"
created: 2025年-12月-17日 17:19
date modified: 2025年-12月-17日 17:57
---

![](../../img/Pasted%20image%2020251217172103.png)
![](../../img/Pasted%20image%2020251217173100.png)
![](../../img/Pasted%20image%2020251217173532.png)
![](../../img/Pasted%20image%2020251217173609.png)

# 对象

```Java
public class BigStar implements Star{
    private String name;

    public BigStar() {
    }

    public BigStar(String name) {
        this.name = name;
    }

    @Override
    public String sing(String name) {
        return this.name + "在唱" + name;
    }

    @Override
    public String dance() {
        return this.name + "在跳舞";
    }

    /**
     * 获取
     * @return name
     */    public String getName() {
        return name;
    }

    /**
     * 设置
     * @param name
     */
    public void setName(String name) {
        this.name = name;
    }

    public String toString() {
        return "BigStar{name = " + name + "}";
    }
}public class BigStar implements Star{
    private String name;

    public BigStar() {
    }

    public BigStar(String name) {
        this.name = name;
    }

    @Override
    public String sing(String name) {
        return this.name + "在唱" + name;
    }

    @Override
    public String dance() {
        return this.name + "在跳舞";
    }

    /**
     * 获取
     * @return name
     */    public String getName() {
        return name;
    }

    /**
     * 设置
     * @param name
     */
    public void setName(String name) {
        this.name = name;
    }

    public String toString() {
        return "BigStar{name = " + name + "}";
    }
}
```

# 接口

```Java
public interface Star {
    public abstract String sing(String name);
    public abstract String dance();
}
```

# 代理

```Java
/*
 * 类的作用：
 * 创建一个代理
 * */public class ProxyUtil {
    /*
     * 方法的作用：
     * 给一个明星对象创建一个代理
     *     * 新参
     * 被代理的明星对象
     * 返回值
     * 给明星创建的代理对象
     * */
    public static Star createProxy(BigStar bigStar) {
    /*public static Object newProxyInstance(classLoader loader, class<?>[] interfaces,InvocationHandler h)
    参数一:用于指定用哪个类加载器，去加载生成的代理类
    参数二:指定接口，这些接口用于指定生成的代理长什么，也就是有哪些方法
    参数三:用来指定生成的代理对象要干什么事情*/
        Star star = (Star) Proxy.newProxyInstance(
                ProxyUtil.class.getClassLoader(),//参数一:用于指定用哪个类加载器，去加载生成的代理类
                new Class[]{Star.class},//参数二:指定接口，这些接口用于指定生成的代理长什么，也就是有哪些方法
                new InvocationHandler() {//参数三:用来指定生成的代理对象要干什么事情
                    @Override
                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
                        /*
                        * 参数一：代理的对象
                        * 参数二：要运行的方法 sing                        * 参数三：调用sing方法时，传递的实参
                        * */                        if ("sing".equals(method.getName())){
                            System.out.println("代理对象调用了sing方法");
                        }else if("dance".equals(method.getName())){
                            System.out.println("代理对象调用了dance方法");
                        }
                        return method.invoke(bigStar,args);
                    }
                }
        );
        return star;
    }
}
```

# 测试类

```Java
public class Test {
    public static void main(String[] args) {
        BigStar bigStar = new BigStar("鸡哥");
        Star proxy = ProxyUtil.createProxy(bigStar);

        String result = proxy.sing("只因你太美");
        System.out.println(result);
        String dance = proxy.dance();
        System.out.println(dance);
    }
}
```
