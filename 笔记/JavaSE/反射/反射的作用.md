---
share: "true"
created: 2025年-12月-17日 16:18
date modified: 2025年-12月-17日 17:19
---

![](../../img/Pasted%20image%2020251217163906.png)

# 1、

```Java
public class MyReflect05 {
    public static void main(String[] args) throws IllegalAccessException, IOException {
        StudentDemo st = new StudentDemo("张三", 18, "男");
        Teacher t = new Teacher("李四", 30, "1001", "北京");

        saveObject(st);
    }

    private static void saveObject(Object object) throws IllegalAccessException, IOException {
        Class<?> aClass = object.getClass();
        Field[] declaredFields = aClass.getDeclaredFields();
        FileOutputStream fos = new FileOutputStream("src\\javaStudy\\myreflect\\prop.properties",true);
        OutputStreamWriter osw = new OutputStreamWriter(fos, "UTF-8");
        for (Field declaredField : declaredFields) {
            declaredField.setAccessible(true);
            String name = declaredField.getName();
            Object value = declaredField.get(object);
            String line = name + "=" + value;
            osw.write(line);
            osw.write("\n");
        }
        osw.close();
        fos.close();
    }
}
```

# 2、

```Java
public class MyReflect06 {
    public static void main(String[] args) throws IOException, ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {
        Properties prop = new Properties();
        FileInputStream fis = new FileInputStream("src\\javaStudy\\myreflect\\prop.properties");
        prop.load(fis);
        fis.close();
        String className = prop.get("Classname").toString();
        String method = prop.get("method").toString();
        Class<?> aClass = Class.forName(className);
        Constructor<?> con = aClass.getConstructor();
        Object o = con.newInstance();
        System.out.println(o);
        Method run = aClass.getDeclaredMethod(method);
        run.invoke(o);
    }
}
```

![](../../img/Pasted%20image%2020251217171907.png)
